<!DOCTYPE html><html><head> <title>COTE RESTO</title><link rel="stylesheet" href="/views/assets/css/coteresto.css"><link rel="icon" type="image/png" sizes="16x16" href="views/assets/favicon/favicon-16x16.png"><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script><script src="/views/assets/js/logo-api.js"></script><script>var loadingData = [[{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Suprème de poulet","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","allergene7":"Vide","allergene8":"Vide","allergene9":"Vide","allergene10":"Vide","nomEN":"Suprème de poulet","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Saucisse de Toulouse","info1":"sauce moutarde et thym","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Moutarde","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Sulfites","allergene6":"Vide","allergene7":"Vide","allergene8":"Vide","allergene9":"Vide","allergene10":"Vide","nomEN":"Saucisse de Toulouse","info1EN":"sauce moutarde et thym","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Effiloché de poulet basquaise","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","allergene7":"Vide","allergene8":"Vide","allergene9":"Vide","allergene10":"Vide","nomEN":"Effiloché de poulet basquaise","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Couscous merguez ","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Moutarde","allergene2":"Gluten","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","allergene7":"Vide","nomEN":"Couscous merguez ","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Semoule bio","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"ProduitLaitier","allergene2":"Gluten","nomEN":"Semoule bio","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Pommes de terre boulangère","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","nomEN":"Pommes de terre boulangère","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Brocolis","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"TRUE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","nomEN":"Brocolis","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Poélée de carottes","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","nomEN":"Poélée de carottes","info1EN":"","info2EN":""},{"pole":"Le Végétarien","feuille":"POLE3","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Oeufs brouillés ","info1":"légumes provençale","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"TRUE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"ProduitLaitier","allergene2":"Oeuf","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","nomEN":"Oeufs brouillés ","info1EN":"légumes provençale","info2EN":""}]]
var tailleData = loadingData.length
if(tailleData > 0 ){
  /*-----------------------------------------
    RECUPERATION DE LA DATE DU JOUR
  -----------------------------------------*/
  //Création de la Variable DATE format JJ.MM.YYYY
  const laDate = new Date();
  var jour = laDate.getDate();
  var mois = laDate.getMonth()+1;
  var annee = laDate.getFullYear();

  //Boucle Si pour ajouter un 0 aux chiffre avant 10
  if(jour<10){
    jour = '0'+jour;
  }
  if(mois<10){
    mois = '0'+mois;
  }
  //Création de la variable Date du jour formaté 00/00/0000
  var dateDuJour = jour+"/"+mois+"/"+annee;
  var dateDuJourUs = annee.toString()+mois.toString()+jour.toString()
  //console.log(dateDuJourUs)
  var dateDuJourUsInt = parseInt(dateDuJourUs)
  var dateDuJourTemplate = jour+"/"+mois;

  //Création de la Variable Date au format MMDD US ex : 22/03 => 322 
  var dateTemplateUS = parseInt(mois+""+jour);

  // FONCTION : QUAND ON CLICK SUR MODAL => on ouvre la fenetre associée
  function getModal(valeurBtn){
    var modalEvent = document.getElementById("myModal"+valeurBtn)
    var btnEvent = document.getElementById("myBtn"+valeurBtn)
    var spanEvent = modalEvent.getElementsByClassName("close")[0]

    // When the user clicks the button, open the modal 
    btnEvent.onclick = function() {
      modalEvent.style.display = "block";
    }

    btnEvent.click();

    // When the user clicks on <span> (x), close the modal
    spanEvent.onclick = function() {
      modalEvent.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
      if (event.target == modalEvent) {
        modalEvent.style.display = "none";
      }
    }
  }

  //TEST BUTTON DATE CONVIVE SELECT
  function changeDateConvive(valeur){
    document.getElementById('textButtonDate').innerHTML = valeur;
    var choixPeriodeSelecteur = document.getElementsByClassName("periodeButton")
    //console.log(choixPeriodeSelecteur[1].style.background)
    var listClassOk =""
    for(i=0 ; i<choixPeriodeSelecteur.length ; i++){
      choixPeriodeSelecteur[i].value = "midi"
      listClassOk = valeur+" "+choixPeriodeSelecteur[i].value
      //console.log(listClassOk)
    }

    var periodeEnCours = choixPeriodeSelecteur.value
    var choixDateSelecteur = document.getElementsByClassName(listClassOk)
    var choixDateNoSelect = document.getElementsByClassName("NameData")
    var choixAccompNoSelect = document.getElementsByClassName("accompData")

      for(i=0;i<choixDateNoSelect.length;i++){
        choixDateNoSelect[i].style.display = "none"
      }
      for(i=0;i<choixAccompNoSelect.length;i++){
        choixAccompNoSelect[i].style.display = "none"
      }
      for(i=0;i<choixDateSelecteur.length;i++){
        choixDateSelecteur[i].style.display = "inline-block"
      }
      document.getElementById("divDateSelection").style.display = "none"
      document.getElementById("container").style.filter = "none"

      //TEST
      var soirPeriode = document.getElementsByClassName('soirPeriode')
      var midiPeriode = document.getElementsByClassName('midiPeriode')

      soirPeriode[0].style.background="none"
      midiPeriode[0].style.background="var(--darkColorRgba)"
  }

  /*-----------------------------------------
    DEMARRAGE DE LECTURE DES DONNEES RECUES
  -----------------------------------------*/
  window.onload = function (){
    /*----------------------------------------
      IMPORTATION des objs des donnees
    -----------------------------------------*/
    var loadingColor = [{"darkColorHex":"#ec6720","darkColorRgba":"rgba(236,103,32,1)","darkColorOpacityRgba":"rgba(236,103,32,0.8)","whiteColorHex":"#f39215","whiteColorRgba":"rgba(243,146,21,1)","whiteColorOpacityRgba":"rgba(243,146,21,0.8)"}]
    //- var loadingData = [[{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Suprème de poulet","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","allergene7":"Vide","allergene8":"Vide","allergene9":"Vide","allergene10":"Vide","nomEN":"Suprème de poulet","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Saucisse de Toulouse","info1":"sauce moutarde et thym","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Moutarde","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Sulfites","allergene6":"Vide","allergene7":"Vide","allergene8":"Vide","allergene9":"Vide","allergene10":"Vide","nomEN":"Saucisse de Toulouse","info1EN":"sauce moutarde et thym","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Effiloché de poulet basquaise","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","allergene7":"Vide","allergene8":"Vide","allergene9":"Vide","allergene10":"Vide","nomEN":"Effiloché de poulet basquaise","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Couscous merguez ","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"TRUE","allergene1":"Moutarde","allergene2":"Gluten","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","allergene7":"Vide","nomEN":"Couscous merguez ","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Semoule bio","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"ProduitLaitier","allergene2":"Gluten","nomEN":"Semoule bio","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Pommes de terre boulangère","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","nomEN":"Pommes de terre boulangère","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Brocolis","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"TRUE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","nomEN":"Brocolis","info1EN":"","info2EN":""},{"pole":"Grillades / Plats traditions","feuille":"POLE1","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"TRUE","signature":"FALSE","nom":"Poélée de carottes","info1":"","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"FALSE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"Vide","allergene2":"Vide","allergene3":"Vide","allergene4":"Vide","nomEN":"Poélée de carottes","info1EN":"","info2EN":""},{"pole":"Le Végétarien","feuille":"POLE3","date":"11/04/2025","dateUs":20250411,"periode":"midi","accompagnement":"FALSE","signature":"FALSE","nom":"Oeufs brouillés ","info1":"légumes provençale","info2":"","prix":"","rupture":"FALSE","ardoise":"FALSE","formule":"FALSE","vitalite":"FALSE","vegetarien":"TRUE","bio":"FALSE","local":"FALSE","saison":"FALSE","equitable":"FALSE","ww":"FALSE","peche":"FALSE","france":"FALSE","allergene1":"ProduitLaitier","allergene2":"Oeuf","allergene3":"Vide","allergene4":"Vide","allergene5":"Vide","allergene6":"Vide","nomEN":"Oeufs brouillés ","info1EN":"légumes provençale","info2EN":""}]]
    var loadingAnnuaire = [{"choixUser":"1ohdRUdCYo6e71aLuBh7ZfF2lc_uZqp9D78icU4DPufA","region":"02699","domaine":"26021","nomDuSite":"IMT Nantes Atlantique","restaurant":[{"nomRestaurant":"Le self","keyGoogle":"1ohdRUdCYo6e71aLuBh7ZfF2lc_uZqp9D78icU4DPufA","pole":[{"nomDuPole":"Le Grillé"},{"nomDuPole":"Le Pecheur"},{"nomDuPole":"Le Pecheur"},{"nomDuPole":"Le Pecheur"}]},{"nomRestaurant":"La cafet","keyGoogle":"13psh2sLpNUc45zZ4AJYPG0Tm1TNYb4JFneWvOCf5k0U","pole":[{"nomDuPole":"Le Grillé"}]}]}]
    var loadingAllergenes = [{"name":"Arachide","description":"Arachides et produits à base d'arachides","descriptionEn":"Peanuts and peanut-based products","url":"views/assets/img/pictosAllergenes/Arachide.svg"},{"name":"FruitaCoque","description":"Fruits à coques* et produits à base de ces fruits","descriptionEn":"Tree nuts* and products based on these nuts","url":"views/assets/img/pictosAllergenes/FruitaCoque.svg"},{"name":"Soja","description":"Soja et produits à base de soja","descriptionEn":"Soy and soy-based products","url":"views/assets/img/pictosAllergenes/Soja.svg"},{"name":"Crustace","description":"Crustacés et produits à base de crustacés","descriptionEn":"Crustaceans and crustacean-based products","url":"views/assets/img/pictosAllergenes/Crustace.svg"},{"name":"Celeri","description":"Céleri et produits à base de céleri","descriptionEn":"Celery and celery-based products","url":"views/assets/img/pictosAllergenes/Celeri.svg"},{"name":"Gluten","description":"Céréales contenant du gluten* et produits à base de ces céréales","descriptionEn":"Cereals containing gluten* and products based on these cereals","url":"views/assets/img/pictosAllergenes/Gluten.svg"},{"name":"Lupin","description":"Lupin et produits à base de lupin","descriptionEn":"Lupin and lupin-based products","url":"views/assets/img/pictosAllergenes/Lupin.svg"},{"name":"Mollusque","description":"Mollusques et produits à base de mollusques","descriptionEn":"Mollusks and mollusk-based products","url":"views/assets/img/pictosAllergenes/Mollusque.svg"},{"name":"Moutarde","description":"Moutarde et produits à base de moutarde","descriptionEn":"Mustard and mustard-based products","url":"views/assets/img/pictosAllergenes/Moutarde.svg"},{"name":"Oeuf","description":"Œufs et produits à base d'œufs","descriptionEn":"Eggs and egg-based products","url":"views/assets/img/pictosAllergenes/Oeuf.svg"},{"name":"Poisson","description":"Poissons et produits à base de poisson","descriptionEn":"Fish and fish-based products","url":"views/assets/img/pictosAllergenes/Poisson.svg"},{"name":"ProduitLaitier","description":"Lait et produits à base de lait (y compris lactose)","descriptionEn":"Milk and milk-based products /including lactose","url":"views/assets/img/pictosAllergenes/ProduitLaitier.svg"},{"name":"Sesame","description":"Graines de sésame et produits à base de graines de sésame","descriptionEn":"Sesame seeds and sesame seed-based products","url":"views/assets/img/pictosAllergenes/Sesame.svg"},{"name":"Sulfites","description":"Sulfites et anhydride sulfureux en concentration de plus de 10 MG/KG ou 10 MG/L (exprimés en SO2)","descriptionEn":"Sulfites and sulfur dioxide at concentrations of more than 10 MG/KG or 10 MG/L (expressed as SO2)","url":"views/assets/img/pictosAllergenes/Sulfites.svg"},{"name":"vide","description":"none","descriptionEn":"none","url":"views/assets/img/pictosAllergenes/vide.svg"},{"name":"undefined","description":"none","descriptionEn":"none","url":"views/assets/img/pictosAllergenes/undefined.svg"}]
    var loadingLanguage = "fr"

    //Longueur des tableaux
    //- var tailleData = loadingData.length
    var tailleColor = loadingColor.length
    var tailleAnnuaire = loadingAnnuaire.length

    //Recupération de l'activation de l'accessibilité 
    var accessCR = 0
    if( loadingColor[0].accessibilite !== undefined){
      accessCR = loadingColor[0].accessibilite
    }
    /*----------------------------------------
      MODIFICATION COLOR CSS VARIABLES
    -----------------------------------------*/
    const root = document.querySelector(':root');
    root.style.setProperty('--darkColor',loadingColor[0].darkColorHex)
    root.style.setProperty('--darkColorRgba',loadingColor[0].darkColorRgba)
    root.style.setProperty('--whiteColorOpacityRgba',loadingColor[0].whiteColorOpacityRgba)
    root.style.setProperty('--whiteColor',loadingColor[0].whiteColorHex)
    root.style.setProperty('--whiteColorRgba',loadingColor[0].whiteColorRgba)
    root.style.setProperty('--whiteColorOpacityRgba',loadingColor[0].whiteColorOpacityRgba)
    const darkColor = loadingColor[0].darkColorHex.replace('#', '')
    const whiteColor = loadingColor[0].whiteColorHex.replace('#', '')
    /*-----------------------------------------
      CREATION STRUCTURE DOM
    -----------------------------------------*/
    //Selecteur du DOM (éléments existant)
    const header = document.querySelector('header')
    const section = document.querySelector('section')
    const footer = document.querySelector('footer')

    //Création du contenu HEADER
    var buttonRestoName = document.createElement('button')
    buttonRestoName.classList.add('nameOfResto')
    buttonRestoName.setAttribute("type",'button')

    //Création d'une div permettant de contenir la redirection vers les autres restaurants
    var divNomRestaurantOpacity = document.createElement('div') //partie des noms des différents restaurants
    divNomRestaurantOpacity.classList.add('divNomRestaurantOpacity')
    var divNomRestaurant = document.createElement('ul') //partie des noms des différents restaurants
    divNomRestaurant.classList.add('divNomRestaurant')

    //Création du bouton permettant de cacher la liste dans le DIVLISTE
    var buttonCache = document.createElement('button')
    buttonCache.classList.add('buttonCache')
    buttonCache.setAttribute("type",'button')

    //#SECTION
    //Création de la div contenant l'outil date
    var dateSelect = document.createElement('div')
    dateSelect.classList.add('dateSelect')

    var dateSelectButton = document.createElement('button')
    dateSelectButton.classList.add('dateSelectButton')
    var textButtonDate = document.createElement('span')
    textButtonDate.classList.add('textButtonDate')
    textButtonDate.setAttribute("id",'textButtonDate')

    var divDateSelection = document.createElement('div')
    divDateSelection.classList.add('divDateSelection')
    divDateSelection.setAttribute("id",'divDateSelection')

    var divDateSelectionOpacity = document.createElement('div')
    divDateSelectionOpacity.classList.add('divDateSelectionOpacity')

    var divDateDispo = document.createElement('div')
    divDateDispo.classList.add('divDateDispo')

    var dateDispo = document.createElement('ul')
    dateDispo.classList.add('dateDispo')

    var dateButtonReturn = document.createElement('button')
    dateButtonReturn.classList.add('dateButtonReturn')

    //Création du contenu
    var container = document.createElement('div')
    container.classList.add('container')
    container.setAttribute("id",'container')
    var nameDispo = document.createElement('ul')
    nameDispo.classList.add('nameDispo')

    //Création de la zone animation dans SECTION
    var animation = document.createElement('nav')
    animation.classList.add('animation')

    /*----------------------------------------
      ATTACHEMENT DU CONTENU
    -----------------------------------------*/
    var arrowNameOfResto = document.createElement('span')
    var imgArrowNameOfResto = document.createElement('img')
    imgArrowNameOfResto.setAttribute('src','views/assets/img/coteresto/arrow-border.svg')
    arrowNameOfResto.appendChild(imgArrowNameOfResto)
    //#HEADER : Récupération du nom du restaurant choisi par l'utilisateur
    if(loadingAnnuaire[0].restaurant.length<2){
      buttonRestoName.textContent = loadingAnnuaire[0].restaurant[0].nomRestaurant 
      buttonRestoName.classList.add('oneResto')
      buttonRestoName.appendChild(arrowNameOfResto)
    }
    else{
      for (i=0 ; i<loadingAnnuaire[0].restaurant.length ; i++){
        if (loadingAnnuaire[0].choixUser === loadingAnnuaire[0].restaurant[i].keyGoogle){
          buttonRestoName.textContent = loadingAnnuaire[0].restaurant[i].nomRestaurant 
          buttonRestoName.appendChild(arrowNameOfResto)
        }
      }
      //#HEADER : Récupération des différents noms des restaurants et leur valeur KEY
      //Création d'un tableau de sauvegarde des noms
      var restoArray =[]
      for (i=0 ; i<loadingAnnuaire[0].restaurant.length ; i++){
        let valueKey = loadingAnnuaire[0].restaurant[i].keyGoogle
        let nameResto = loadingAnnuaire[0].restaurant[i].nomRestaurant
        let obj = {
          nameResto : nameResto,
          valueKey : valueKey
        }
        restoArray.push(obj)
      }
        //Création de la boucle pour les LI du UL
      for(i=0; i<restoArray.length ; i++){
        if(restoArray[i].valueKey !==loadingAnnuaire[0].choixUser){
          let objListe = document.createElement('li')
          objListe.classList.add('objListe')
          objListe.setAttribute("value",restoArray[i].valueKey)
          let lienObj = document.createElement('a')
          lienObj.classList.add('lienObj')
          lienObj.setAttribute("href",'../coteresto?key='+restoArray[i].valueKey+'&darkColor='+darkColor+'&whiteColor='+whiteColor)
          lienObj.textContent = restoArray[i].nameResto
          objListe.appendChild(lienObj)
          divNomRestaurant.appendChild(objListe)
        } 
      }
    }

    //#SECTION : Partie Date selecteur
    //Récupération des dates disponibles
    var dateArray = [];
    var copyLoadingData = [];
    var constanteArray = [];

    for(i=0 ; i<loadingData[0].length ; i++){
      if(loadingData[0][i].date === "TRUE"){
        loadingData[0][i].date = dateDuJour
        dateArray.push(loadingData[0][i].date)  
        var platTest = Object.assign({}, loadingData[0][i])
        constanteArray.push(platTest)  
      }
      else if(loadingData[0][i].dateUs >= dateDuJourUsInt ){
        dateArray.push(loadingData[0][i].date)
      }
    }

    dateArray = Array.from(new Set(dateArray))
    for(t=0 ; t<dateArray.length ; t++){
      for(u=0 ; u<constanteArray.length ; u++){
        if(dateArray[t] !== constanteArray[u].date){
          var variableTest = Object.assign({},constanteArray[u])
          variableTest.date = dateArray[t]
          loadingData[0].push(variableTest)
        }
      }   
    } 

    //Nettoyage du tableau pour enlever les doublons
    var dateArrayFiltre = Array.from(new Set(dateArray)) //Fonction Set pour garder les Uniques, et Array.from pour remettre en Tableau

    //Affichage du texte dans le Button de date
    textButtonDate.textContent = dateDuJour
    //Création d'un tableau regroupant les noms des jours French
    var jourFrench = ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa']
    var jourEnglish = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];

    //Boucle pour afficher les différentes dates disponibles et les mettres en forme

    for (u=0 ; u<dateArrayFiltre.length ; u++){
      let dateData = document.createElement('li')
      dateData.classList.add('dateData')

      var arrayOfStrings = dateArrayFiltre[u].split("/")
      let day = arrayOfStrings[0]
      let month = arrayOfStrings[1]
      let year = arrayOfStrings[2]
      var maDate = new Date(year,(month-1),day)
      var nJour = maDate.getDay()

      //création du button pour selection de la date convive
      var buttonDateConvive = document.createElement('button')
      buttonDateConvive.classList.add('buttonDateConvive')
      buttonDateConvive.setAttribute("type",'button')
      buttonDateConvive.setAttribute("name",dateArrayFiltre[u])
      buttonDateConvive.setAttribute("value",year+month+day)
      buttonDateConvive.setAttribute("onclick","changeDateConvive(this.name)")

      //Création de la div integrée au button Convive
      let  divJourName = document.createElement('div')
      divJourName.classList.add('divJourName')
      if(loadingLanguage === "en"){
        divJourName.textContent = jourEnglish[nJour]
      }
      else{
        divJourName.textContent = jourFrench[nJour]
      }
      let  divJourNumber = document.createElement('div')
      divJourNumber.classList.add('divJourNumber')
      divJourNumber.textContent = day

      buttonDateConvive.appendChild(divJourName)
      buttonDateConvive.appendChild(divJourNumber)
      dateDispo.appendChild(buttonDateConvive)
    }



    //Création de la partie PERIODE (Midi /SOIR)
    let periode = document.createElement('div')
    periode.classList.add('periode')


    let midiPeriode = document.createElement('button')
    midiPeriode.classList.add('periodeButton')
    midiPeriode.classList.add('midiPeriode')
    midiPeriode.setAttribute("type",'button')
    midiPeriode.setAttribute("value","midi")
    midiPeriode.setAttribute("style","background: var(--darkColorRgba)")
    //midiPeriode.setAttribute("onclick","changePeriodeConvive(this.value)")
    if(loadingLanguage === "en"){
      midiPeriode.textContent = 'LUNCH'
    }
    else{
      midiPeriode.textContent = 'MIDI'
    }

    let soirPeriode = document.createElement('button')
    soirPeriode.classList.add('periodeButton')
    soirPeriode.classList.add('soirPeriode')
    soirPeriode.setAttribute("type",'button')
    soirPeriode.setAttribute("value","soir")
    //soirPeriode.setAttribute("onclick","changePeriodeConvive(this.value)")
    if(loadingLanguage === "en"){
      soirPeriode.textContent = 'EVENING'
    }
    else{
      soirPeriode.textContent = 'SOIR'
    }

    periode.appendChild(midiPeriode)
    periode.appendChild(soirPeriode)


    //Récupération des noms des pôles disponible
    //création d'un tableau regroupant les noms des pôles et leur plats 
    var poleArray = []
    for(i=0 ; i<loadingData[0].length ; i++){
      poleArray.push(loadingData[0][i].pole)
    }

    //Nettoyage des doublons de nom de pôles
    var poleArrayCleaned = Array.from(new Set(poleArray))            

    let menuDispo = document.createElement('ul')
    menuDispo.classList.add('menuDispo')

    //Création d'un pôle Accompagnements
    let accompid = poleArrayCleaned.length+1
    let poleAccomp = document.createElement('li')
    poleAccomp.classList.add('poleDispo')
    //poleAccomp.textContent = "ACCOMPAGNEMENTS"

    let inputAccomp = document.createElement('input')
    inputAccomp.setAttribute('type','radio')
    inputAccomp.setAttribute('name','radpole')
    inputAccomp.setAttribute('class','rad-pole')
    inputAccomp.setAttribute('id','rad-pole'+accompid)

    let labelAccomp = document.createElement('label')
    labelAccomp.setAttribute('class','lab-pole')
    labelAccomp.setAttribute('for','rad-pole'+accompid)
    if(loadingLanguage === "en"){
      labelAccomp.textContent = "SIDE DISHES"
    }
    else{
      labelAccomp.textContent = "ACCOMPAGNEMENTS"
    }

    //Liste des accompagnements rattaché au Pole ACCOMP
    let zoneDesAccomp = document.createElement('ul')
    zoneDesAccomp.classList.add('zoneDesPlats')
    zoneDesAccomp.classList.add('zoneDesAccomp')

    //Attachement des accompagnements
    //création d'un tableau regroupant les ACCOMPAGNEMENTS
    accompArray = []

    for(i=0 ; i<loadingData[0].length ; i++){
      if(loadingData[0][i].accompagnement === 'TRUE' && loadingData[0][i].periode !== ''){
        if(loadingLanguage === "en"){
          if(loadingData[0][i].nomEN !== undefined && loadingData[0][i].nomEN !== ''){
            let obj={
              nom : loadingData[0][i].nomEN,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
          else{
            let obj={
              nom : loadingData[0][i].nom,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
          if(loadingData[0][i].info1EN !== undefined && loadingData[0][i].info1EN !== ''){
            let obj={
              nom : loadingData[0][i].info1EN,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
          else{
            let obj={
              nom : loadingData[0][i].info1,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
          if(loadingData[0][i].info2EN !== undefined && loadingData[0][i].info2EN !== ''){
            let obj={
              nom : loadingData[0][i].info2EN,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
          else{
            let obj={
              nom : loadingData[0][i].info2,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
        }
        else{
          if(loadingData[0][i].nom !== undefined && loadingData[0][i].nom !== ''){
            let obj={
              nom : loadingData[0][i].nom,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
          if(loadingData[0][i].info1 !== undefined && loadingData[0][i].info1 !== ''){
            let obj={
              nom : loadingData[0][i].info1,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
          if(loadingData[0][i].info2 !== undefined && loadingData[0][i].info2 !== ''){
            let obj={
              nom : loadingData[0][i].info2,
              periode : loadingData[0][i].periode,
              date : loadingData[0][i].date,
              dateUs : loadingData[0][i].dateUs
            }
            accompArray.push(obj)
          }
        }
      } 
    }
    function removeDuplicates(arrayObj) {
      jsonObject = arrayObj.map(JSON.stringify)
      uniqueSet = new Set(jsonObject)
      uniqueArray = Array.from(uniqueSet).map(JSON.parse)
      return uniqueArray
    }
    accompArray = removeDuplicates(accompArray)

    //Nettoyage du tableau Accomp (A REVOIR POUR LES OBJETS!)
    var accompArrayCleaned = Array.from(new Set(accompArray))
    //Suppression des vides dans le tableau ACCOMPAGNEMENT
    var accompArrayOk = accompArrayCleaned.filter( function(val){return val !== ''} );

    for(i=0 ; i<accompArrayOk.length ; i++){
      if(accompArrayOk[i].periode !== '' || accompArrayOk[i].periode !== undefined){

        let NameData = document.createElement('li')
        NameData.classList.add('accompData')
        NameData.classList.add(accompArrayOk[i].dateUs)
        NameData.classList.add(accompArrayOk[i].date)
        NameData.classList.add(accompArrayOk[i].periode)

        /*if(accompArrayOk[i].info2 !== "" || accompArrayOk[i].info2 !== NaN || accompArrayOk[i].info2 !== undefined || accompArrayOk[i].info2 !== null){
          if(accompArrayOk[i].info1 === "" || accompArrayOk[i].info1 === NaN || accompArrayOk[i].info1 === undefined || accompArrayOk[i].info1 === null){
            NameData.textContent=accompArrayOk[i].nom + ', ' + accompArrayOk[i].info2
          }
          else{
            NameData.textContent= accompArrayOk[i].nom + ', ' + accompArrayOk[i].info1 + ', ' + accompArrayOk[i].info2
          }
        }
        else if(accompArrayOk[i].info1 === "" || accompArrayOk[i].info1 === NaN || accompArrayOk[i].info1 === undefined || accompArrayOk[i].info1 === null){
          NameData.textContent= accompArrayOk[i].nom
        }*/
        NameData.textContent=accompArrayOk[i].nom

        if(accompArrayOk[i].dateUs === dateDuJourUsInt && accompArrayOk[i].periode === 'midi'){
          NameData.style.display = "inline-block"
        }

        zoneDesAccomp.appendChild(NameData) 
      }
    }

    //Création des différentes sections en fonction du nombre de pôle dispo
    for(y=0 ; y<poleArrayCleaned.length ; y++){

      //Création du boutton
      let poleDispo = document.createElement('li')
      poleDispo.classList.add('poleDispo')
      //poleDispo.textContent = poleArrayCleaned[y]

      let inputDispo = document.createElement('input')
      inputDispo.setAttribute('type','radio')
      inputDispo.setAttribute('name','radpole')
      inputDispo.setAttribute('class','rad-pole')
      inputDispo.setAttribute('id','rad-pole'+y)

      let labelDispo = document.createElement('label')
      labelDispo.setAttribute('class','lab-pole')
      labelDispo.setAttribute('for','rad-pole'+y)
      labelDispo.textContent = poleArrayCleaned[y]

      //Liste des plats attachés au pole
      let zoneDesPlats = document.createElement('ul')
      zoneDesPlats.classList.add('zoneDesPlats')

      //Attachement des contenus
      accompArrayOk
      for(i=0 ; i<loadingData[0].length ; i++){
        if(poleArrayCleaned[y] === loadingData[0][i].pole && loadingData[0][i].accompagnement !== 'TRUE' && loadingData[0][i].periode !== ''){
          let NameData = document.createElement('li')
          NameData.classList.add('NameData')
          NameData.classList.add(loadingData[0][i].periode)
          NameData.classList.add(loadingData[0][i].dateUs)
          NameData.classList.add(loadingData[0][i].date)
          if(loadingData[0][i].dateUs === dateDuJourUsInt && loadingData[0][i].periode === 'midi'){
            NameData.style.display = "inline-block"
          }
          //Zone d'affectation des diffénrents contenu du plat
          let plat = document.createElement('div')
          plat.classList.add('plat')

          let zoneGauche = document.createElement('div')
          zoneGauche.classList.add('zoneGauche')

          let nomPlat = document.createElement('div')
          nomPlat.classList.add('nomPlat')
          if(loadingLanguage === "en"){
            if(loadingData[0][i].nomEN !== undefined && loadingData[0][i].nomEN !== ""){
              nomPlat.textContent = loadingData[0][i].nomEN
            }
            else{
              nomPlat.textContent = loadingData[0][i].nom
            }
          }
          else{
            nomPlat.textContent = loadingData[0][i].nom
          }

          let info1Plat = document.createElement('div')
          info1Plat.classList.add('info1')
          if(loadingLanguage === "en"){
            if(loadingData[0][i].info1EN !== undefined && loadingData[0][i].info1EN !== ""){
              info1Plat.textContent = loadingData[0][i].info1EN
            }
            else{
              info1Plat.textContent = loadingData[0][i].info1
            }
          }
          else{
            info1Plat.textContent = loadingData[0][i].info1
          }

          let info2Plat = document.createElement('div')
          info2Plat.classList.add('info2')
          if(loadingLanguage === "en"){
            if(loadingData[0][i].info2EN !== undefined && loadingData[0][i].info2EN !== ""){
              info2Plat.textContent = loadingData[0][i].info2EN
            }
            else{
              info2Plat.textContent = loadingData[0][i].info2
            }
          }
          else{
            info2Plat.textContent = loadingData[0][i].info2
          }

          //création de la section Marqueur Allergenes
          let zonePicto = document.createElement('button')
          zonePicto.classList.add('zonePicto')
          zonePicto.setAttribute("id","myBtn"+i) //#MODAL
          zonePicto.setAttribute("value",i) //#MODAL
          zonePicto.setAttribute("onclick","getModal("+i+")") //#MODAL

          let label = document.createElement('div')
          label.classList.add('label')
          let allergenes = document.createElement('div')
          allergenes.classList.add('allergenes')

          //Déclaration d'un tableau pouvant regrouper les pictos a appeler ! 
          let pictoArray = []

          if(loadingData[0][i].ardoise === 'TRUE' || loadingData[0][i].ardoise == 'VRAI'){
            let pictoArdoise = document.createElement('img'); //Création de l'élément balise <IMG />
            pictoArdoise.setAttribute("src", "views/assets/img/pictosLabel/ardoise.svg"); //Atribution de l'atribut LIEN IMG
            pictoArdoise.classList.add('imgSvg'); //Ajout d'une class identique aux allergènes (format)
            label.appendChild(pictoArdoise); //Ajout du contenu dans la div PARENTE
            let obj = {
              "url" : "views/assets/img/pictosLabel/ardoise.svg",
              "name" : "ardoise",
              "description" : "Menu Malin / Ardoise",
              "descriptionEn" : "Smart Menu / Blackboard"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].formule === 'TRUE' || loadingData[0][i].formule == 'VRAI'){
            let pictoFormule = document.createElement('img');
            pictoFormule.setAttribute("src", "views/assets/img/pictosLabel/formule.svg");
            pictoFormule.classList.add('imgSvg');
            label.appendChild(pictoFormule);
            let obj = {
              "url" : "views/assets/img/pictosLabel/formule.svg",
              "name" : "formule",
              "description" : "Formule du jour",
              "descriptionEn" : "Daily special"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].vitalite === 'TRUE' || loadingData[0][i].vitalite == 'VRAI'){
            let pictoVitalite = document.createElement('img');
            pictoVitalite.setAttribute("src", "views/assets/img/pictosLabel/vitalite.svg");
            pictoVitalite.classList.add('imgSvg');
            label.appendChild(pictoVitalite);
            let obj = {
              "url" : "views/assets/img/pictosLabel/vitalite.svg",
              "name" : "vitalite",
              "description" : "Api vitalité",
              "descriptionEn" : "Api vitality"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].vegetarien === 'TRUE' || loadingData[0][i].vegetarien == 'VRAI'){
            let pictoVegetarien = document.createElement('img');
            pictoVegetarien.setAttribute("src", "views/assets/img/pictosLabel/vegetarien.svg");
            pictoVegetarien.classList.add('imgSvg');
            label.appendChild(pictoVegetarien);
            let obj = {
              "url" : "views/assets/img/pictosLabel/vegetarien.svg",
              "name" : "vegetarien",
              "description" : "Végétarien",
              "descriptionEn" : "Vegetarian"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].bio === 'TRUE' || loadingData[0][i].bio == 'VRAI'){
            let pictoBio = document.createElement('img');
            pictoBio.setAttribute("src", "views/assets/img/pictosLabel/bio.svg");
            pictoBio.classList.add('imgSvg');
            label.appendChild(pictoBio);
            let obj = {
              "url" : "views/assets/img/pictosLabel/bio.svg",
              "name" : "bio",
              "description" : "Produit issu de l'Agriculture Biologique",
              "descriptionEn" : "Organic farming product"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].local === 'TRUE' || loadingData[0][i].local == 'VRAI'){
            let pictoLocal = document.createElement('img');
            pictoLocal.setAttribute("src", "views/assets/img/pictosLabel/local.svg");
            pictoLocal.classList.add('imgSvg');
            label.appendChild(pictoLocal);
            let obj = {
              "url" : "views/assets/img/pictosLabel/local.svg",
              "name" : "local",
              "description" : "Produit régional",
              "descriptionEn" : "Regional product"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].saison === 'TRUE' || loadingData[0][i].saison == 'VRAI'){
            let pictoSaison = document.createElement('img');
            pictoSaison.setAttribute("src", "views/assets/img/pictosLabel/saison.svg");
            pictoSaison.classList.add('imgSvg');
            label.appendChild(pictoSaison);
            let obj = {
              "url" : "views/assets/img/pictosLabel/saison.svg",
              "name" : "saison",
              "description" : "Produit de saison",
              "descriptionEn" : "Seasonal produce"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].equitable === 'TRUE' || loadingData[0][i].equitable == 'VRAI'){
            let pictoEquitable = document.createElement('img');
            pictoEquitable.setAttribute("src", "views/assets/img/pictosLabel/equitable.svg");
            pictoEquitable.classList.add('imgSvg');
            label.appendChild(pictoEquitable);
            let obj = {
              "url" : "views/assets/img/pictosLabel/equitable.svg",
              "name" : "equitable",
              "description" : "Produit issu du commerce équitable",
              "descriptionEn" : "Fair trade product"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].ww === 'TRUE' || loadingData[0][i].ww == 'VRAI'){
            let pictoWeightWatcher = document.createElement('img');
            pictoWeightWatcher.setAttribute("src", "views/assets/img/pictosLabel/weightWatcher.svg");
            pictoWeightWatcher.classList.add('imgSvg');
            label.appendChild(pictoWeightWatcher);
            let obj = {
              "url" : "views/assets/img/pictosLabel/weightWatcher.svg",
              "name" : "weightWatcher",
              "description" : "O Api Déj",
              "descriptionEn" : "O Api Déj"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].peche === 'TRUE' || loadingData[0][i].peche == 'VRAI'){
            let pictoPeche = document.createElement('img');
            pictoPeche.setAttribute("src", "views/assets/img/pictosLabel/peche.svg");
            pictoPeche.classList.add('imgSvg');
            label.appendChild(pictoPeche);
            let obj = {
              "url" : "views/assets/img/pictosLabel/peche.svg",
              "name" : "peche",
              "description" :"Pêche durable",
              "descriptionEn" : "Sustainable fishing"
            }
            pictoArray.push(obj)
          } 
          if(loadingData[0][i].france === 'TRUE' || loadingData[0][i].france == 'VRAI'){
            let pictoFrance = document.createElement('img');
            pictoFrance.setAttribute("src", "views/assets/img/pictosLabel/france.svg");
            pictoFrance.classList.add('imgSvg');
            label.appendChild(pictoFrance);
            let obj = {
              "url" : "views/assets/img/pictosLabel/france.svg",
              "name" : "france",
              "description" : "Produit certifié Origine France",
              "descriptionEn" : "Certified French origin product"
            }
            pictoArray.push(obj)
          }

          /*-----------------------------------------------------------*/
          //Boucle SI pour eviter l'affichage VIDE des pictos allergènes  
          /*-----------------------------------------------------------*/
          //Déclaration d'un tableau pouvant regrouper les allergenes a appeler ! #MODAL
          let allergenesArray = []

          if(loadingData[0][i].allergene1 !== '' && loadingData[0][i].allergene1 !== 'Vide' && typeof loadingData[0][i].allergene1 !== 'undefined'){
            let allergene1File = document.createElement('img');
            allergene1File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene1+".svg");
            allergene1File.classList.add('imgSvg');
            allergenes.appendChild(allergene1File);
            allergenesArray.push(loadingData[0][i].allergene1)
          } 
          if(loadingData[0][i].allergene2 !== '' && loadingData[0][i].allergene2 !== 'Vide' && typeof loadingData[0][i].allergene2 !== 'undefined'){
            let allergene2File = document.createElement('img');
            allergene2File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene2+".svg");
            allergene2File.classList.add('imgSvg');
            allergenes.appendChild(allergene2File);
            allergenesArray.push(loadingData[0][i].allergene2)
          }
          if(loadingData[0][i].allergene3 !== '' && loadingData[0][i].allergene3 !== 'Vide' && typeof loadingData[0][i].allergene3 !== 'undefined'){  
            let allergene3File = document.createElement('img');
            allergene3File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene3+".svg");
            allergene3File.classList.add('imgSvg');
            allergenes.appendChild(allergene3File);
            allergenesArray.push(loadingData[0][i].allergene3)
          }
          if(loadingData[0][i].allergene4 !== '' && loadingData[0][i].allergene4 !== 'Vide' && typeof loadingData[0][i].allergene4 !== 'undefined'){ 
            let allergene4File = document.createElement('img');
            allergene4File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene4+".svg");
            allergene4File.classList.add('imgSvg');
            allergenes.appendChild(allergene4File);
            allergenesArray.push(loadingData[0][i].allergene4)
          } 
          if(loadingData[0][i].allergene5 !== '' && loadingData[0][i].allergene5 !== 'Vide' && typeof loadingData[0][i].allergene5 !== 'undefined'){ 
            let allergene5File = document.createElement('img');
            allergene5File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene5+".svg");
            allergene5File.classList.add('imgSvg');
            allergenes.appendChild(allergene5File);
            allergenesArray.push(loadingData[0][i].allergene5)
          } 
          if(loadingData[0][i].allergene6 !== '' && loadingData[0][i].allergene6 !== 'Vide' && typeof loadingData[0][i].allergene6 !== 'undefined'){ 
            let allergene6File = document.createElement('img');
            allergene6File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene6+".svg");
            allergene6File.classList.add('imgSvg');
            allergenes.appendChild(allergene6File);
            allergenesArray.push(loadingData[0][i].allergene6)
          }
          if(loadingData[0][i].allergene7 !== '' && loadingData[0][i].allergene7 !== 'Vide' && typeof loadingData[0][i].allergene7 !== 'undefined'){ 
            let allergene7File = document.createElement('img');
            allergene7File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene7+".svg");
            allergene7File.classList.add('imgSvg');
            allergenes.appendChild(allergene7File);
            allergenesArray.push(loadingData[0][i].allergene7)
          }
          if(loadingData[0][i].allergene8 !== '' && loadingData[0][i].allergene8 !== 'Vide' && typeof loadingData[0][i].allergene8 !== 'undefined'){ 
            let allergene8File = document.createElement('img');
            allergene8File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene8+".svg");
            allergene8File.classList.add('imgSvg');
            allergenes.appendChild(allergene8File);
            allergenesArray.push(loadingData[0][i].allergene8)
          }
          if(loadingData[0][i].allergene9 !== '' && loadingData[0][i].allergene9 !== 'Vide' && typeof loadingData[0][i].allergene9 !== 'undefined'){ 
            let allergene9File = document.createElement('img');
            allergene9File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene9+".svg");
            allergene9File.classList.add('imgSvg');
            allergenes.appendChild(allergene9File);
            allergenesArray.push(loadingData[0][i].allergene9)
          }
          if(loadingData[0][i].allergene10 !== '' && loadingData[0][i].allergene10 !== 'Vide' && typeof loadingData[0][i].allergene10 !== 'undefined'){ 
            let allergene10File = document.createElement('img');
            allergene10File.setAttribute("src", "views/assets/img/pictosAllergenes/"+loadingData[0][i].allergene10+".svg");
            allergene10File.classList.add('imgSvg');
            allergenes.appendChild(allergene10File);
            allergenesArray.push(loadingData[0][i].allergene10)
          }

          zonePicto.appendChild(label) 
          //CREATION DE LA BARRE DE SEPARATION VERTICALE MARQUEUR ET ALLERGENES
          if(pictoArray.length >0 && allergenesArray.length>0){
            var divSeparationVerticale = document.createElement("div")
            divSeparationVerticale.classList.add('divSeparationVerticale')
            zonePicto.appendChild(divSeparationVerticale)
          }
          zonePicto.appendChild(allergenes)

          /*-----------------------------------------------------------*/
          //CREATION DE LA MODAL POUR LA PARTIE PICTOS / ALLERGENES  
          /*-----------------------------------------------------------*/
          var modal = document.createElement("div")
          modal.setAttribute("id","myModal"+i)
          modal.classList.add('modal')

          var modalContent = document.createElement("div")
          modalContent.classList.add('modal-content')
          var divTopModal = document.createElement("div")
          divTopModal.classList.add('divTopModal')

          var divTitrePlatModal = document.createElement("div")
          divTitrePlatModal.classList.add('divTitrePlatModal')
          if(loadingLanguage === "en"){
            if(loadingData[0][i].nomEN !== undefined && loadingData[0][i].nomEN !== ""){
              divTitrePlatModal.textContent = loadingData[0][i].nomEN
            }
            else{
              divTitrePlatModal.textContent = loadingData[0][i].nom
            }
          }
          else{
            divTitrePlatModal.textContent = loadingData[0][i].nom
          }

          var span = document.createElement("span")
          span.classList.add('close')
          span.textContent = 'x'

          var divModal = document.createElement("div")
          divModal.classList.add('divModal')

          var divTitreModal = document.createElement("div")
          divTitreModal.classList.add('divTitreModal')
          if(loadingLanguage === "en"){
            divTitreModal.textContent = 'Allergens and markers'
          }
          else{
            divTitreModal.textContent = 'Allergènes et marqueurs'
          }
          divModal.appendChild(divTitreModal)

          //SI IL Y A DES MARQUEURS (PICTOS LABEL MODAL)
          if(pictoArray.length > 0){
            //#MODAL zone MARQUEUR
            var pMarqueur = document.createElement("p")
            pMarqueur.classList.add('texteModal')
            if(loadingLanguage === "en"){
              pMarqueur.textContent = 'Markers present in this dish :'
            }
            else{
              pMarqueur.textContent = 'Marqueurs présents dans ce plat :'
            }

            var divMarqueur = document.createElement("div")
            divMarqueur.classList.add('divMarqueur')

            //Traitement des objets stockés dans le tableau PICTOARRAY lors de la boucle précédente
            for(x=0 ; x<pictoArray.length ; x++){

              //Création d'une sous division pour la mise en place Logo + Description du picto
              let sousZonePicto = document.createElement('div')
              sousZonePicto.classList.add('sousZonePicto')

              //Création d'une sous division pour la mise en place Logo + Description du picto
              let zonePictoImg = document.createElement('div')
              zonePictoImg.classList.add('zonePictoImg')

              //Création de l'image en fonction de l'url récupéré
              let picto = document.createElement('img')
              picto.setAttribute("src", pictoArray[x].url)
              picto.classList.add('imgSvg')
              zonePictoImg.appendChild(picto)

              //Création d'une sous division pour la mise en place Logo + Description du picto
              let zonePictoDescription = document.createElement('div')
              zonePictoDescription.classList.add('zonePictoDescription')
              if(loadingLanguage === "en"){
                zonePictoDescription.textContent = pictoArray[x].descriptionEn
              }
              else{
                zonePictoDescription.textContent = pictoArray[x].description
              }

              //Aprentissage dans le DOM #MODAL
              sousZonePicto.appendChild(zonePictoImg)
              sousZonePicto.appendChild(zonePictoDescription)
              divMarqueur.appendChild(sousZonePicto)
            }
            divModal.appendChild(pMarqueur)
            divModal.appendChild(divMarqueur)
          }
          //CREATION DE LA BARRE DE SEPARATION MARQUEUR ET ALLERGENES
          if(pictoArray.length >0 && allergenesArray.length>0){
            var divSeparation = document.createElement("div")
            divSeparation.classList.add('divSeparation')
            divModal.appendChild(divSeparation)
          }
          //SI IL Y A DES ALLERGENES (PICTOS ALLERGENES MODAL)
          if(allergenesArray.length > 0){
            //#MODAL zone allergenes
            var pAllergenes = document.createElement("p")
            pAllergenes.classList.add('texteModal')
            if(loadingLanguage === "en"){
              pAllergenes.textContent = 'Allergens present in this dish :'
            }
            else{
              pAllergenes.textContent = 'Allergènes présents dans ce plat :'
            }

            var divAllergenes = document.createElement("div")
            divAllergenes.classList.add('divMarqueur')

            //Traitement des objets stockés dans le tableau ALLERGENESARRAY lors de la boucle précédente
            for(x=0 ; x<allergenesArray.length ; x++){

              //Création d'une sous division pour la mise en place Logo + Description du picto
              let sousZonePicto = document.createElement('div')
              sousZonePicto.classList.add('sousZonePicto')

                //Création d'une sous division pour la mise en place Logo + Description du picto
              let zonePictoImg = document.createElement('div')
              zonePictoImg.classList.add('zonePictoImg')

              //Création de l'image en fonction de l'url récupéré depuis AllergenesLISTING JSON
              for(t=0 ; t<loadingAllergenes.length ; t++){
                if(allergenesArray[x] === loadingAllergenes[t].name){
                  let picto = document.createElement('img')
                  picto.setAttribute("src", loadingAllergenes[t].url)
                  picto.classList.add('imgSvg')
                  zonePictoImg.appendChild(picto)

                  //Création d'une sous division pour la mise en place Logo + Description du picto
                  let zonePictoDescription = document.createElement('div')
                  zonePictoDescription.classList.add('zonePictoDescription')
                  if(loadingLanguage === "en"){
                    zonePictoDescription.textContent = loadingAllergenes[t].descriptionEn
                  }
                  else{
                    zonePictoDescription.textContent = loadingAllergenes[t].description
                  }

                  //Aprentissage dans le DOM #MODAL
                  sousZonePicto.appendChild(zonePictoImg)
                  sousZonePicto.appendChild(zonePictoDescription)
                }
              } 
              divAllergenes.appendChild(sousZonePicto)
            }
            divModal.appendChild(pAllergenes)
            divModal.appendChild(divAllergenes)
          }

          //TEXTE DE REDIRECTION VERS LISTE PAGE STATIQUE
          var divRedirectionListing = document.createElement("div")
          divRedirectionListing.classList.add('divRedirectionListing')

          var divRedirectionListingSpan = document.createElement("p")
          if(loadingLanguage === "en"){
            divRedirectionListingSpan.textContent = 'A complete list of allergens and dish markers can be found in the following section.'
          }
          else{
            divRedirectionListingSpan.textContent = 'Retrouvez la liste complète des allergènes et des marqueurs de plat dans la section'
          }

          var divRedirectionListingSpanResto = document.createElement("p")
          if(loadingLanguage === "en"){
            divRedirectionListingSpanResto.textContent = '"My Restaurant"'
          }
          else{
            divRedirectionListingSpanResto.textContent = '"Mon Restaurant"'
          }

          //Aprentissage dans le DOM #MODAL
          divTopModal.appendChild(divTitrePlatModal)
          divTopModal.appendChild(span)
          modalContent.appendChild(divTopModal)
          modalContent.appendChild(divModal)
          divRedirectionListing.appendChild(divRedirectionListingSpan)
          divRedirectionListing.appendChild(divRedirectionListingSpanResto)
          modalContent.appendChild(divRedirectionListing)
          modal.appendChild(modalContent)

          let zoneDroite = document.createElement('div')
          zoneDroite.classList.add('zoneDroite')

          let prix = document.createElement('div')
          prix.classList.add('prix')
          prix.textContent = loadingData[0][i].prix

          zoneGauche.appendChild(nomPlat)
          zoneGauche.appendChild(info1Plat)
          zoneGauche.appendChild(info2Plat)
          zoneGauche.appendChild(zonePicto)
          zoneGauche.appendChild(modal)
          zoneDroite.appendChild(prix)

          plat.appendChild(zoneGauche)
          plat.appendChild(zoneDroite)

          NameData.appendChild(plat)
          zoneDesPlats.appendChild(NameData)  
        }
      }
      poleDispo.appendChild(inputDispo)
      poleDispo.appendChild(labelDispo)
      poleDispo.appendChild(zoneDesPlats)
      menuDispo.appendChild(poleDispo)
      if($(zoneDesAccomp).find("li").length > 0){
        poleAccomp.appendChild(inputAccomp)
        poleAccomp.appendChild(labelAccomp)
        poleAccomp.appendChild(zoneDesAccomp)
        menuDispo.appendChild(poleAccomp)
      }
    }


    /*----------------------------------------
      APPRENTISSAGE DU DOM
    -----------------------------------------*/
    //#HEADER
    //Choix du restaurant
    header.appendChild(buttonRestoName)
    divNomRestaurant.appendChild(buttonCache)
    divNomRestaurantOpacity.appendChild(divNomRestaurant)
    header.appendChild(divNomRestaurantOpacity)

    //#SECTION
    //apprentissage du logo Calendrier sur la zone Choix Date
    var calendarPicto = document.createElement('span')
    calendarPicto.classList.add('calendarPicto')
    var calendarSvg = document.createElement('img')
    calendarSvg.setAttribute('src','/views/assets/img/coteresto/calendar.svg')

    calendarPicto.appendChild(calendarSvg)
    dateSelectButton.appendChild(calendarPicto)
    dateSelectButton.appendChild(textButtonDate)
    dateSelect.appendChild(dateSelectButton)
    divDateSelection.appendChild(divDateSelectionOpacity)
    divDateDispo.appendChild(dateDispo)
    divDateDispo.appendChild(dateButtonReturn)
    divDateSelection.appendChild(divDateDispo)
    dateSelect.appendChild(divDateSelection)
    section.appendChild(dateSelect)

    //Envoi des données dans la section
    animation.appendChild(menuDispo)
    container.appendChild(periode)
    container.appendChild(nameDispo)
    container.appendChild(animation)
    section.appendChild(container)


    /*---------------------------------------
      ECOUTE D'EVENEMENTS
    ----------------------------------------*/
    //CHOIX DU RESTO
    buttonRestoName.addEventListener('click', (event) =>{
      //Si le choix est strictement différent de VIDE alors on travail !
      if(getComputedStyle(divNomRestaurantOpacity).display ==='none'){
        divNomRestaurantOpacity.style.display = "inline-block"
        section.style.filter = "blur(1.5rem)"
        imgArrowNameOfResto.style.transform = 'rotate(90deg)'
      }else{
        divNomRestaurantOpacity.style.display = "none"
        section.style.filter = "blur(0)"
        imgArrowNameOfResto.style.transform = 'rotate(0deg)'
      }
    })
    buttonCache.addEventListener('click', (event) =>{
      //Si le choix est strictement différent de VIDE alors on travail !
      if(getComputedStyle(divNomRestaurantOpacity).display ==='none'){
        divNomRestaurantOpacity.style.display = "inline-block"
        section.style.filter = "blur(1.5rem)"
        imgArrowNameOfResto.style.transform = 'rotate(90deg)'
      }else{
        divNomRestaurantOpacity.style.display = "none"
        section.style.filter = "blur(0)"
        imgArrowNameOfResto.style.transform = 'rotate(0deg)'
      }
    })
    //CHOIX DE LA DATE
    dateSelectButton.addEventListener('click', (event) =>{
      //Si le choix est strictement différent de VIDE alors on travail !
      if(getComputedStyle(divDateSelection).display ==='none'){
        divDateSelection.style.display = "inline-block"
        container.style.filter = "blur(1.5rem)"
      }else{
        divDateSelection.style.display = "none"
        container.style.filter = "none"
      }
    })
    dateButtonReturn.addEventListener('click', (event) =>{
      //Si le choix est strictement différent de VIDE alors on travail !
      if(getComputedStyle(divDateSelection).display ==='none'){
        divDateSelection.style.display = "inline-block"
        container.style.filter = "blur(1.5rem)"
      }else{
        divDateSelection.style.display = "none"
        container.style.filter = "none"
      }
    })  



    //CHOIX DE LA PERIODE


    soirPeriode.addEventListener('click', (event) =>{
      var platDuMidi = document.getElementsByClassName("midi")
      var dateSelectionnee = document.getElementById("textButtonDate").innerHTML 
      var variableClass = dateSelectionnee +" soir"
      var platDuSoir = document.getElementsByClassName(variableClass)

        for(i=0;i<platDuMidi.length;i++){
          platDuMidi[i].style.display = "none"
        }
        for(i=0;i<platDuSoir.length;i++){
          platDuSoir[i].style.display = "inline-block"
        }
        midiPeriode.style.background="none"
        soirPeriode.style.background="var(--darkColorRgba)"
    }) 
    midiPeriode.addEventListener('click', (event) =>{
      var platDuSoir = document.getElementsByClassName("soir")
      var dateSelectionnee = document.getElementById("textButtonDate").innerHTML 
      var variableClass = dateSelectionnee +" midi"
      var platDuMidi = document.getElementsByClassName(variableClass)
        for(i=0;i<platDuSoir.length;i++){
          platDuSoir[i].style.display = "none"
        }
        for(i=0;i<platDuMidi.length;i++){
          platDuMidi[i].style.display = "inline-block"
        }
        soirPeriode.style.background="none"
        midiPeriode.style.background="var(--darkColorRgba)"
    })     

    if(accessCR === 1){
      //Modification de la couleur d'écriture ACCESSIBILITE 
      document.body.style.color = "#191919"

      // Forcer l'héritage de la couleur de texte pour tous les éléments enfants du body
      const bodyColor = getComputedStyle(document.body).color
      document.querySelectorAll("body *").forEach(element => {
        element.style.color = "inherit"
      })
    }                 
  }

  //CHOIX DATE AU CHARGEMENT APRES FIN DE CHARGEMENT DE LA PAGE
  window.addEventListener('load',(event) =>{
    var firstDateName = document.getElementsByClassName('dateDispo')[0].firstChild.name
    changeDateConvive(firstDateName)
  }) 

  //SUPPRESSION VISUEL DU SOIR SI INUTILE 
  window.addEventListener('load',(event) =>{
    var periodeSoir = document.getElementsByClassName("soir")
    if(periodeSoir.length<1){
      var buttonPeriodeSoir = document.getElementsByClassName("soirPeriode")
      buttonPeriodeSoir[0].style.display = "none"
    }
    //Oblige l'ouverture de la page avec MIDI de pré-selectionnée
    var dateSelectionnee = document.getElementById("textButtonDate").innerHTML 
    var variableClass = dateSelectionnee +" midi"
    var platDuMidi = document.getElementsByClassName(variableClass)
    for(i=0;i<platDuMidi.length;i++){
      platDuMidi[i].style.display = "inline-block"
    }
  })
}</script></head><body><header></header><section></section><footer></footer></body></html>